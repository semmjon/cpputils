import unittest
from datetime import date, datetime, time

from cpputils import datetime_ms, eval_datetime


class TestEvalDatetime(unittest.TestCase):
    def test_timestamp_formats(self):
        [
            self.assertTrue(
                type(eval_datetime(str(x))) in [datetime, date, time, datetime_ms]
            )
            for x in [
                "20060317 13:27:54.123",
                "2006/03/17 13:27:54.123",
                "17/03/2006 13:27:54.123",
                "20060317 13:27:54",
                "2006/03/17 13:27:54",
                "17/03/2006 13:27:54",
                "2006-03-17 13:27:54.123",
                "17-03-2006 13:27:54.123",
                "2006-03-17 13:27:54",
                "17-03-2006 13:27:54",
                "2006-03-17T13:27:54",
                "2006-03-17T13:27:54.123",
                "20060317T13:27:54",
                "20060317T13:27:54.123",
                "17-03-2006T13:27:54.123",
                "17-03-2006T13:27:54",
                "2006-03-17T13:27:54Z",
                "2006-03-17T13:27:54+03:45",
                "2006-03-17T13:27:54-05:37",
                "2006-03-17T13:27Z",
                "2006-03-17T13:27+03:45",
                "2006-03-17T13:27-05:37",
                "17/Mar/2006:13:27:54 -0537",
                "17/Mar/2006:13:27:54 +0537",
                "Sat, 17 Mar 2006 13:27:54 GMT",
                "Sat, 17 Mar 2006 13:27:54 EST",
                "Sat, 17 Mar 2006 13:27:54 UT",
                "Sat, 17 Mar 2006 13:27:54 M",
                "Sat, 17 Mar 2006 13:27:54 -0234",
                "Sat, 17 Mar 2006 13:27:54 +0325",
                "20060317",
                "20061703",
                "13:27:54.123",
                "13:27:54",
            ]
        ]
